{"version":3,"file":"module.js","sources":["../node_modules/svelte-preprocess-filter/out/module.js","../src/index.js"],"sourcesContent":["/* eslint-disable import/prefer-default-export */\n\nfunction style({ name, all = false, type = true, lang = true } = {}, { attributes } = {}) {\n  if (all) {\n    return true;\n  }\n\n  if (!name) {\n    throw new Error('Missing \\'name\\' filter option');\n  }\n  if (!attributes) {\n    throw new Error('No attributes passed to filter');\n  }\n\n  const typeAttributes = [type && attributes.type, lang && attributes.lang];\n\n  return typeAttributes.includes(name) || typeAttributes.includes(`text/${name}`);\n}\n\nexport { style };\n//# sourceMappingURL=module.js.map\n","import { dirname } from 'path';\nimport sassCompiler from 'node-sass';\nimport { style as filter } from 'svelte-preprocess-filter';\n\nexport async function preprocessSass(\n  sassOptions = {},\n  filterOptions = {},\n  { filename, content, attributes }\n) {\n  if (!filter(Object.assign({ name: 'sass' }, filterOptions), { attributes })) { return null; }\n\n  const { css, map, stats } = await new Promise((resolve, reject) => sassCompiler.render({\n    file: filename,\n    data: content,\n    includePaths: [\n      dirname(filename),\n    ],\n    ...sassOptions,\n  }, (err, result) => {\n    if (err) {\n      reject(err);\n    } else {\n      resolve(result);\n    }\n  }));\n\n  return { code: css.toString(), map, dependencies: stats.includedFiles };\n}\n\nexport function sass(sassOptions, filterOptions) {\n  return preprocessSass.bind(null, sassOptions, filterOptions);\n}\n"],"names":["all","type","lang","typeAttributes","attributes","name","preprocessSass","sassOptions","filterOptions","filename","content","filter","Object","assign","css","map","stats","Promise","resolve","reject","sassCompiler","render","file","data","includePaths","dirname","err","result","code","toString","dependencies","includedFiles","sass","bind"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEO,SAAA,KAAA,CAAe;EAAA,IAAA;EAAQA,GAAAA,GAAR,KAAA;EAAqBC,IAAAA,GAArB,IAAA;EAAkCC,IAAAA,GAAlC;IAAf,EAAA,EAAqE;EAAA;IAArE,EAAA,EAA0F;MAC/F,KAAS;WAAE;;;MAEP,CAAJ,MAAW;UACH,IAAA,KAAA,CAAN,gCAAM;;;MAEJ,CAAJ,YAAiB;UACT,IAAA,KAAA,CAAN,gCAAM;;;QAGFC,cAAAA,GAAiB,CACpBF,IAAAA,IAAQG,UAAAA,CADY,IAAA,EAEpBF,IAAAA,IAAQE,UAAAA,CAFX,IAAuB;SAKhBD,cAAAA,CAAAA,QAAAA,CAAAA,IAAAA,KAAiCA,cAAAA,CAAAA,QAAAA,CAAyB,QAAOE,IAAxE,EAAwCF;;;ACbnC,eAAeG,cAAf,CACLC,WAAW,GAAG,EADT,EAELC,aAAa,GAAG,EAFX,EAGL;EAAEC,QAAF;EAAYC,OAAZ;EAAqBN;CAHhB,EAIL;MACI,CAACO,KAAM,CAACC,MAAM,CAACC,MAAP,CAAc;IAAER,IAAI,EAAE;GAAtB,EAAgCG,aAAhC,CAAD,EAAiD;IAAEJ;GAAnD,CAAX,EAA6E;WAAS,IAAP;;;QAEzE;IAAEU,GAAF;IAAOC,GAAP;IAAYC;MAAU,MAAM,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqBC,YAAY,CAACC,MAAb;IACjEC,IAAI,EAAEb,QAD2D;IAEjEc,IAAI,EAAEb,OAF2D;IAGjEc,YAAY,EAAE,CACZC,OAAO,CAAChB,QAAD,CADK;KAGXF,WAN8D,GAOhE,CAACmB,GAAD,EAAMC,MAAN,KAAiB;QACdD,GAAJ,EAAS;MACPP,MAAM,CAACO,GAAD,CAAN;KADF,MAEO;MACLR,OAAO,CAACS,MAAD,CAAP;;GAX+D,CAAjC,CAAlC;SAeO;IAAEC,IAAI,EAAEd,GAAG,CAACe,QAAJ,EAAR;IAAwBd,GAAxB;IAA6Be,YAAY,EAAEd,KAAK,CAACe;GAAxD;;AAGF,AAAO,SAASC,IAAT,CAAczB,WAAd,EAA2BC,aAA3B,EAA0C;SACxCF,cAAc,CAAC2B,IAAf,CAAoB,IAApB,EAA0B1B,WAA1B,EAAuCC,aAAvC,CAAP;;;;;"}